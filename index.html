<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sign Up</title>

    <link rel="stylesheet" href="./style.css">
</head>
<body>
    <div class="container">
        <div class="leftDiv">
            <h1>stay updated!</h1>
            <p>Join 60,000+ product managers receiving monthly updates on:</p>
            <ul>
                <li> Product discovery and building what matters</li>
                <li> Measuring to ensure updates are a success</li>
                <li> And much more!</li>
            </ul>
            <div class="input-group">
                <label for="">Email Address</label>
                <input type="email" id="email" placeholder="email@company.com" onkeyup="validateEmail()">
                <span id="error"></span>
            </div>
            <div class="btn-subscribe">
                <button type="submit" onclick="openPopup()">Subscribe to monthly news letter</button>
            </div>
            <div class="popup" id="popup">
                <img src="./images/icon-success.svg" alt="">
                <h2>Thanks for Subscribing!</h2>
                <p>A confirmation email has been sent to <span id="userMail">ash@loremcompany.com</span>. Please open it and click the button inside to confirm your subscription.</p>
                <button type="submit" id="close" onclick="closePopup()"> Dismiss message</button>
            </div>
        </div>
        <div class="rightDiv">
            <img src="./images/illustration-sign-up-desktop.svg" alt="">
        </div>
    </div>

    <script>
        let emailError = document.getElementById('error')
        

        function validateEmail(){
            let email = document.getElementById('email').value
            if(email.length === 0)
            {
                emailError.innerHTML = 'This field cannot be empty'
                emailError.style.color = 'red'
                return false
            }
            if(!email.match(/^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$/))
            {
                emailError.innerHTML = 'Enter a valid Email'
                emailError.style.color = 'red'
                return false
            }
            emailError.innerHTML = 'Valid Email'
            emailError.style.color = 'green'
            return true
        }

        function openPopup(){
            let popup = document.getElementById('popup')
            let userSpan = document.getElementById('userMail')
            if(validateEmail() === false)
            {
                alert('Enter valid Email...')
            }
            else{
                let usernameid = email.value
                popup.classList.add('popup-open')
                userSpan.innerHTML = usernameid
            }
        }

        function closePopup(){
            popup.classList.remove('popup-open')
        }



    </script>
</body>
</html>